# Chapter1. ドメイン駆動設計とは

- 知識をコードに埋め込むことを実現するための手法
- ソフトウェア開発におけるドメインは「プログラムを適用する対象となる領域」を指す
  - 例）会計システムであれば金銭や帳票、物流システムであれば貨物や倉庫や輸送手段

### 1.2.1 ドメインモデルとは何か

- 現実の事象あるいは概念を抽象化したもの
  - 現実を全て再現するわけではない
  - 何を取捨選択するかはドメインによる
    - 例）ペンの場合、小説家ならば文字を書くこと。文房具店であれば値段や在庫など。何に重きを置くかは異なる。

### 1.2.2 知識をコードで表現するドメインオブジェクト

- ドメインモデルをソフトウェアで動作するモジュールとして表現したもの
- ドメインオブジェクトはドメインモデルの実装表現
  - ドメインの変化は、ドメインモデルを媒介にして連鎖的にドメインモデルまで伝わる

## 1.4 本書で解説するパターンについて

- 知識を表現するパターン
  - 値オブジェクト
  - エンティティ
  - ドメインサービス
- アプリケーションを表現するためのパターン
  - リポジトリ
  - アプリケーションサービス
  - ファクトリ
- 知識を表現、より発展的なパターン
  - 集約
  - 仕様

# Chapter2. システム固有の値を表現する「値オブジェクト」

## 2.2 値の性質と値オブジェクトの実装

- 代表的な値の性質
  - 不変である
  - 交換が可能である
  - 等価性によって比較される

### 2.2.1 不変である

- 値の変更をするときは代入を利用
  - 厳密には値の変更はしていない
    - 値が変更できてしまうと、安心して値を利用できない

```c#:一般的に見られる値の変更
var fullName = new FullName("masanobu", "naruse");
fullName.ChangeLastName("sato");
```

- FullName はシステム固有の値を表している値オブジェクト
  - 不変にすべき
  - ChangeLastName メソッドは FullName クラスに定義されるべきでない

### 2.2.2 交換可能である

- 「不変」の性質を持つ値は変更できない
  - 代入操作によって交換することで表現

```c#
var fullName = new FullName("masanobu", "naruse");
fullName = new FullName("masanobu", "sato");
```

### 2.2.3 等価性によって比較される



