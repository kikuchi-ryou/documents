# セッション2：パフォーマンスに優れたアーキテクチャを定義する

## 2.1 高パフォーマンスなストレージおよびデータベースを選択する

### Amazon EBSのボリュームタイプ

- SSDタイプ
    - 汎用SSD
        - 低コストで高いIOPS
    - プロビジョンドIOPS SSD
        - IOPSとスループットが高い、高コスト
- HDDタイプ
    - スループット最適化HDD
    - コールドHDD
- マグネティック（旧世代のボリュームで**非推奨**）

コストと主なユースケースを
性能の特性

一般的にワークロードに合うものを選択する
パフォーマンスとコストを読み解くことが重要

### Amazon S3 バケット

インターネットからアクセス可能なストレージ。
静的なコンテンツ配信が可能。

静的なコンテンツを配信する場合は、通常はWebサーバを起動してエンドユーザーからリクエストを受け付ける必要があった。
利用者が増えるとサーバー台数が増えて、パフォーマンスの低下やコスト増加のリスク。
S3は完全マネージド型サービス。Webシステムのパフォーマンス向上につながる。

S3を利用するには、バケットを作成する。
バケットを作成する際には、バケット名を付与してリージョンを指定して作成。
バケット名は、基本的にファイルセットのプレフィックスであり、グローバル全体で一意の名前をつける必要がある。

1つのアカウントに複数のバケットを配置できる。
バケットごとにアクセス制御も可能。→バケットのオブジェクトを作成できるユーザーのアクセスコントロールもできる。
S3では、ファイルをオブジェクトと予備、バケットを作成するとバケット内でオブジェクトをいくつも保存できる。

オブジェクトを保存するには、保存するファイルをバケットにアップロードする。
アップロード時に、データへのアクセス許可やメタデータを設定できる。

料金は、
- 保存しているデータサイズ
- リクエスト回数
- リージョン外へのデータ転送量
で発生。
リージョンによっても料金は異なる。
データ転送でも、リージョン内やAmazon Cloud Frontへの送信では料金が発生しない。

いくつかのストレージクラスが提供されている。
ストレージクラスは手動で管理するより、ライフサイクルポリシーの機能を使ったほうがいい。
経過時間に伴い、ストレージタイプを変更できる。
例）
30日経過して、あまりアクセスしなくなったS3標準低頻度アクセスに移動。
60日経過して、さらにアクセスしなくなったらGlacierに移動。
1年経過したら、データを自動的に削除。

## 2.2 パフォーマンス向上のためキャッシュを使用する

## 2.3 伸縮性とスケーラビリティに優れたソリューションを設計する

